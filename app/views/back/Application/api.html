<script id="api">
    var api_table_title = [
        {field: 'url', title: 'url', align: 'center'},
        {field: 'action', title: 'action', align: 'center'},
        //{field: 'method', title: 'method', align: 'center'},
        // {field: 'body', title: 'body', align: 'center'},
        {field: 'header', title: 'header', align: 'center'},
        {field: 'param', title: '请求参数', align: 'center'},
        // {field: 'status', title: '返回状态', align: 'center'},
        {field: 'exception', title: '异常报告', align: 'center'},
        {field: 'result', title: '返回结果', align: 'center'},
        {field: 'personId', title: '用户id', align: 'center'},
        {field: 'personToken', title: '用户token', align: 'center'},
        {field: 'personInfo', title: '用户基本信息', align: 'center'},
        {field: 'startTime', title: '开始时间', align: 'center', templet: '#api_startTime'},
        {field: 'time', title: '用时', align: 'center', templet: '#api_time'}
        //{title: '操作', align: 'center', toolbar: '#api_toolbar'}
    ]
</script>
<script id="api_startTime" type="text/html">
    {{(new Date(d.startTime)).Format("yy-MM-dd hh:mm:ss")}}
</script>
<script id="api_time" type="text/html">
    {{Number(d.endTime)-Number(d.startTime)}}ms
</script>
<script id="api_toolbar" type="text/html">
    <a class="layui-btn layui-btn-xs" lay-event="view">详情</a>
</script>
<script id="api_tab" type="text/html">
    <div>
        <div class="layui-row">
            <div class="layui-col-md3 layui-col-md-offset9">
                <div class="layui-form">
                    <div class="layui-form-item">
                        <div class="layui-input-inline">
                            <input type="text" name="search" placeholder="url、action、person" autocomplete="on"
                                   class="layui-input">
                        </div>
                        <div class="layui-btn-group">
                            <button class="layui-btn" lay-submit lay-filter="api_search">查询</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="layui-col-md12">
                <table id="api_table" lay-filter="api_table"></table>
            </div>
        </div>
    </div>
</script>
<script id="api_form" type="text/html">
    <div class="layui-fluid" style="margin: 10px">
        <div class="layui-form layui-form-pane">
            <div class="layui-form-item">
                <label class="layui-form-label">权限名称</label>
                <div class="layui-input-inline">
                    <input type="text" class="layui-input" name="name" lay-verify="required" value="{{d.name}}">
                </div>
            </div>
            <div class="layui-form-item">
                <div class="layui-inline">
                    <div class="layui-input-inline"></div>
                </div>
                <div class="layui-inline">
                    <div class="layui-input-inline">
                        <input type="hidden" name="apiId" value="{{d.apiId}}">
                        <button class="layui-btn" lay-submit lay-filter="api_close">关闭</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</script>